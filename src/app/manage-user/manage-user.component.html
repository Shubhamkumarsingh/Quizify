<div class="container">
    <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">First</th>
            <th scope="col">Last</th>
            <th scope="col">Username</th>
            <th scope="col">Email Id</th>
            <th scope="col">Update</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users; index as i;">
            <th scope="row">{{i+1}}</th>
            <td>{{user.firstName}}</td>
            <td>{{user.lastName}}</td>
            <td>{{user.userName}}</td>
            <td>{{user.emailId}}</td>
            <td><button class = "btn btn-primary" (click)="updateModal(update,user)">Update</button></td>
            <td><button class = "btn btn-primary" (click)="delete(user,i)">Delete</button></td>
          </tr>
        </tbody>
      </table>
      
      <button class = "btn btn-primary" (click)="openModal(content)">Add User</button>

      <ng-template #content>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Add User</h4>
        </div>
        <div class="modal-body">
          <form [formGroup] = "formdata" class="form-horizontal container" (ngSubmit) = "onClickSubmit(formdata.value)">
    
            <div class="form-group">
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="FirstName" placeholder="first name" formControlName="firstName">
                </div>
              </div>
        
              <div class="form-group">
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="lastName" placeholder="last name" formControlName="lastName">
                </div>
              </div>
              
              <div class="form-group">
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="userName" placeholder="username"  formControlName="username">
                </div>
              </div>
        
              <div class="form-group">
                <div class="col-sm-10">
                  <input type="email" class="form-control" id="email" placeholder="email address"  formControlName="emailId">
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-10">
                  <input type="password" class="form-control" id="password" placeholder="password"  formControlName="password">
                  <small><p class="note mb-3">Make sure it's <span data-more-than-n-chars="">at least 15 characters</span> OR <span data-min-chars="">at least 8 characters</span> <span data-number-requirement=""> including a number </span> <span data-letter-requirement="">and a lowercase letter</span>.</p></small>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-10">
                <input type="submit" class="btn btn-info" [disabled]="!formdata.valid" value="Add User">
                &nbsp;&nbsp;&nbsp;
          <button type="button" class="btn btn-outline-dark" (click)="closeModal()">Close</button>
              </div>
            </div> 
      </form>
        </div>
        <!-- <div class="modal-footer">
          <button type="button" class="btn btn-outline-dark" (click)="closeModal()">Save User</button>
        </div> -->
      </ng-template> 
      
      <hr>
      

      <ng-template #update>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Profile update</h4>
        </div>
        <div class="modal-body">
          
          <form #updateForm = "ngForm" class="form-horizontal container" (ngSubmit) = "onSubmit(updateForm.value)">
    
            <div class="form-group">
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="FirstName"  [(ngModel)] = "dataUpdate.firstName" name="firstName" required>
                </div>
              </div>
        
              <div class="form-group">
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="lastName" [value]="dataUpdate.lastName" placeholder="last name" name="lastName" required>
                </div>
              </div>
              
              <div class="form-group">
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="userName" [(ngModel)] = "dataUpdate.userName" placeholder="username"  name="username" required>
                </div>
              </div>
        
              <div class="form-group">
                <div class="col-sm-10">
                  <input type="email" class="form-control" id="email" [(ngModel)] = "dataUpdate.emailId"  placeholder="email address"  name="emailId" required>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-10">
                  <input type="password" class="form-control" id="password" placeholder="password"  name="password">
                  <small><p class="note mb-3">Make sure it's <span data-more-than-n-chars="">at least 15 characters</span> OR <span data-min-chars="">at least 8 characters</span> <span data-number-requirement=""> including a number </span> <span data-letter-requirement="">and a lowercase letter</span>.</p></small>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-10">
                <input type="submit" class="btn btn-info" [disabled]="updateForm.invalid" value="Add User">
                &nbsp;&nbsp;&nbsp;
          <button type="button" class="btn btn-outline-dark" (click)="closeModal()">Close</button>
              </div>
            </div> 
      </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-dark" (click)="closeModal()">Close</button>
        </div>
      </ng-template> 
      
</div>